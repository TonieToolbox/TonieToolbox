[tool:pytest]
minversion = 8.4.2
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Test discovery and collection
addopts = 
    --strict-markers 
    --strict-config 
    --verbose
    --cov=TonieToolbox --cov-report=html --cov-report=term-missing
    -n auto

# Markers for test categorization
markers = 
    unit: Unit tests (fast, isolated component testing)
    integration: Integration tests (component interaction testing) 
    functional: Functional tests (end-to-end feature testing)
    slow: Slow running tests (may take several seconds)
    requires_ffmpeg: Tests that require FFmpeg to be available
    requires_opus: Tests that require Opus tools to be available 
    requires_gui: Tests that require GUI/tkinter support
    requires_network: Tests that require network connectivity
    windows_only: Tests that only run on Windows
    linux_only: Tests that only run on Linux
    macos_only: Tests that only run on macOS

# Test filtering
filterwarnings = 
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Timeout for individual tests
timeout = 300